{% extends "base.html" %}
{% load static %}
{% load get_attribute %}

{% block load_js %}
	<!-- Demo stuff -->
	<link rel="stylesheet" href="https://mottie.github.io/tablesorter/docs/css/jq.css">
	<link href="https://mottie.github.io/tablesorter/docs/css/prettify.css" rel="stylesheet">
	<script src="https://mottie.github.io/tablesorter/docs/js/prettify.js"></script>

	<!-- Tablesorter: required -->
	<link rel="stylesheet" href="https://mottie.github.io/tablesorter/css/theme.blue.css">
	<script src="https://mottie.github.io/tablesorter/js/jquery.tablesorter.js"></script>
	<script src="https://mottie.github.io/tablesorter/js/jquery.tablesorter.widgets.js"></script>
  <link rel="stylesheet" href="https://mottie.github.io/tablesorter/addons/pager/jquery.tablesorter.pager.css">
  <script src="https://mottie.github.io/tablesorter/addons/pager/jquery.tablesorter.pager.js"></script>
	<script src="https://mottie.github.io/tablesorter/beta-testing/pager-custom-controls.js"></script>

  <script src="{% static 'javascript/table.js' %}"></script>
  <script src="{% static 'javascript/customer/customer.js' %}"></script>
{% endblock %}

{% block load_css %}
<link rel="stylesheet" href="{% static 'css/customer/customer.css' %}">
<link rel="stylesheet" href="{% static 'css/customer/tablesorter.css' %}">
<link rel="stylesheet" href="{% static 'css/customer/cusform.css' %}">
{% endblock %}

{% block title %}Main page{% endblock %}

{% block content %}
<div class="content">
  
  <h2 style="font-size: 24px !important;">Table of Customers</h2>
    <!-- customer manager here -->
    <div class="customer-manager">
      <div style="margin: 20px;">
        <button class="customer-button" type="button">Add</button>
        <button class="customer-button" type="button">Edit</button>
        <button class="customer-button" type="button">Delete</button>
      </div>

      <div class="customer-add-form">
        <div class="customer-manager-form">
          <form method="post">
            <h2 style="font-size: medium; margin-bottom: 18px; !important">Add Customer</h2>
            {% for field in cus_form %}
            <div class="input-box">
              {{ field }}
              <span>{{ field.label }}</span>
            </div>
            {% endfor %}
            {% csrf_token %}
            <div class="input-box" id="submit-form">
              <input type="submit" value="Add new customer">
            </div>
          </form>
        </div>
      </div>

      <div class="customer-edit-form">
        <div class="customer-manager-form">
          <form method="post">
            <h2 style="font-size: medium; margin-bottom: 18px; !important">Edit Customer</h2>
            {% for field in cus_form %}
            <div class="input-box">
              {{ field }}
              <span>{{ field.label }}</span>
            </div>
            {% endfor %}
            {% csrf_token %}
            <div class="input-box" id="submit-form">
              <input type="submit" value="Add new customer">
            </div>
          </form>
        </div>
      </div>
    </div>
    
    <!-- table here -->
    <div class="customer-table">
      <div class="pager">
        <span class="pagedisplay" style="margin: 20px;"></span>
      </div>
      <table class="tablesorter hover-highlight focus-highlight">
        <thead>
          <tr>
            {% for col_name in cus_cols %}
            <th>{{ col_name }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tfoot>
          <tr>
            <th>Name</th>
            <th>Major</th>
            <th>Sex</th>
            <th>English</th>
            <th>Japanese</th>
            <th>Calculus</th>
            <th>Geometry</th>
          </tr>
          <tr>
            <td colspan="7">
              <div class="pager"> <span class="left">
                  # per page:
                  <a href="#" class="current">10</a> |
                  <a href="#">25</a> |
                  <a href="#">50</a> |
                  <a href="#">100</a>
                </span>
                <span class="right">
                  <span class="prev">Prev</span>
                  <span class="pagecount"></span>
                  <span class="next">Next</span>
                </span>
              </div>
            </td>
          </tr>
        </tfoot>
        <tbody>
          {% for cus in customers %}
          <tr>
            {% for col_name in cus_cols %}
            <td>{{ cus|get_attr:col_name }}</td>
            {% endfor %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  <div class="clearfix"></div>
</div>
{% endblock %}